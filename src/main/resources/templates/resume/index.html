<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="">
<head th:replace="partials/partials :: head"/>
<title>Resume Portal</title>
</head>

<body>
<nav th:replace="partials/partials :: navbar"></nav>

<div class="container text-center">

    <!-- STUDENT VIEW -->
    <h1>Your Resumes</h1>
    <!-- Message from placement -->
    <div class="student-div">
        <p class="placement-msg">(placeholder - will be msg from placement after review) No resume uploaded.</p>
    </div>

    <!-- Resumes Table -->
    <table class="table table-striped w-50 mr-auto ml-auto" th:each="resume : ${resumes}">

        <!-- Header Rows -->
        <tr>
            <th scope="col">Resume</th>
            <th scope="col">Status</th>
        </tr>

        <!-- Value Rows -->
        <tr class="resume-row">
            <td>
                <a class="downloadLink" href="">View Resume</a>
                <span class="w-25 mr-auto ml-auto" style="display: flex; justify-content: space-evenly">

                    <!-- Upload Resume -->
                    <button type="button" class="btn btn-primary" id="uploadResume" th:value="${resume.id}">
                        Upload Resume
                    </button>
                    <!-- Storing resume link in hidden input -->
                    <form th:action="@{'resume/'+${resume.id}}" th:method="POST" id="urlForm">
                        <input type="hidden" name="resumeURL" id="resumeURL">
                    </form>

                    <!-- Delete resume -->
                    <button data-toggle="modal" th:data-target="'#' + modalForId + ${resume.id}"
                            class="btn btn-link text-danger" style="font-size: 1.5rem">
                        <i class="fa fa-trash"></i>
                    </button>


                    <!-- Delete Modal -->
                    <div class="modal fade" th:id="modalForId + ${resume.id}" tabindex="-1" role="dialog"
                         aria-labelledby="companyDeleteModalLabel"
                         aria-hidden="true">

                        <form th:action="@{'/resume/' + ${resume.id} + '/delete'}" th:method="POST"
                              th:object="${resume}">
                            <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h2 class="modal-title text-center text-danger"
                                            id="companyDeleteModalLabel">Warning</h2>
                                    </div>
                                    <div class="modal-body">
                                        <p class="lead">
                                            Delete this resume? This action is final.
                                        </p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary"
                                                data-dismiss="modal">Cancel</button>
                                        <button type="submit" class="btn btn-danger" name="delete">Delete</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- /end of modal -->
                </span>
            </td>
            <td>
                <p class="resume-status">Not uploaded.</p>
            </td>
        </tr>
    </table>
    <!-- END TABLE -->


    <!-- Resume tips/tricks. download for example resume -->
    <div class="student-div">
        <p>
            During your time at Codeup, you will build at least 2 different types of resumes, a “T-Block” and a
            “Vertical". Today, we are going to go over the T-Block resume. The purpose of the T-Block resume is to have
            a 1 page, easy to consume resume. Your resume will be made up of 5-6 different sections listed below in
            order of importance:
        </p>
        <ul>
            <li>Professional Summary</li>
            <li>Technical Skills</li>
            <li>Development Projects</li>
            <li>Professional Experience</li>
            <li>Military Experience (if warranted)</li>
            <li>Education</li>
        </ul>
    </div>

    <!-- PLACEMENT VIEW -->
    <h1>PLACEMENT VIEW</h1>
    <!-- Dropdown for cohorts -> dropdown for students -> button to download student resume -->
    <div class="student-div">
        <select class="custom-select" id="cohort">
            <option th:each="cohort : ${cohorts}" class="dropdown-item" th:text="${cohort.name}"
                    th:value="${cohort.id}">
            </option>
        </select>

        <select class="custom-select" id="user">
            <option th:each="user : ${users}" class="dropdown-item" th:text="${user.name}"
                    th:value="${user.id}">
            </option>
        </select>

        <a class="downloadLink" href="">View Resume</a>
    </div>
</div>

<standard_scripts th:replace="partials/partials :: footer"></standard_scripts>
</body>
</html>